<app-header [haveBeforeHeader]="false" [title]="'donate-order'" [isHome]="false" [hasMarketCart]="false"></app-header>

<ion-content class="ion-padding-horizontal">
  <form (ngSubmit)="donate()" [formGroup]="donationForm"
    class="custom-form-container ion-margin-bottom ion-padding-horizontal">
    <ion-item lines="none" class="ion-margin-bottom">
      <ion-icon class="custom-form-icon" [ngClass]="currentLanguage=='ar'?'icon-ar':'icon-en'" item-start
        color="primary" src="./../../../../assets/icon/donate/person-inactive.svg">
      </ion-icon>
      <ion-input class="fn-16 qesaa-Janna-Regular" placeholder="{{'user-name'|translate}}" type="text"
        formControlName="userName"></ion-input>
    </ion-item>

    <ion-item lines="none" class="ion-margin-bottom">
      <ion-icon class="custom-form-icon" [ngClass]="currentLanguage=='ar'?'icon-ar':'icon-en'" item-start
        color="primary" src="./../../../../assets/icon/donate/phone-inactive.svg"></ion-icon>
      <ion-input class="fn-16 qesaa-Janna-Regular" placeholder="{{'phone number'|translate}}" type="tel"
        formControlName="phoneNumber"></ion-input>
    </ion-item>

    <ion-item lines="none" class="ion-margin-bottom">
      <ion-icon class="custom-form-icon" [ngClass]="currentLanguage=='ar'?'icon-ar':'icon-en'" item-start
        color="primary" src="./../../../../assets/icon/donate/city-inactive.svg"></ion-icon>
      <ion-input class="fn-16 qesaa-Janna-Regular" placeholder="{{'city'|translate}}" type="text"
        formControlName="city"></ion-input>
    </ion-item>

    <ion-item lines="none" class="ion-margin-bottom">
      <ion-icon class="custom-form-icon" [ngClass]="currentLanguage=='ar'?'icon-ar':'icon-en'" item-start
        color="primary" src="./../../../../assets/icon/donate/city-inactive.svg"></ion-icon>
      <ion-input class="fn-16 qesaa-Janna-Regular" placeholder="{{'the area or neighborhood'|translate}}" type="text"
        formControlName="neighborhood"></ion-input>
    </ion-item>

    <div class="map-location ion-margin-bottom">
      <p class="ion-no-margin fn-16 qesaa-Janna-Bold">
        {{"map location"|translate}}
      </p>

      <div #map class="map-container"></div>
    </div>


    <div class="request-time">
      <p class="ion-no-margin fn-16 qesaa-Janna-Regular">
        {{"request-date"|translate}}
      </p>
    </div>

    <ion-item lines="none" class="ion-margin-bottom" button="true" id="open-date-input">
      <ion-text slot="end">{{donationForm.value.requestDate }}</ion-text>
      <ion-popover trigger="open-date-input" show-backdrop="false">
        <ng-template>
          <ion-datetime #popoverDatetime presentation="date" formControlName="requestDate"
            (ionChange)="donationForm.value.requestDate =getSelectedDate(popoverDatetime.value)"></ion-datetime>
        </ng-template>
      </ion-popover>
    </ion-item>



    <div class="request-time">
      <p class="ion-no-margin fn-16 qesaa-Janna-Regular">
        {{"request-time"|translate}}
      </p>
    </div>

    <ion-item lines="none" class="ion-margin-bottom">
      <ion-icon class="custom-form-icon" [ngClass]="currentLanguage=='ar'?'icon-ar':'icon-en'" item-start
        color="primary" src="./../../../../assets/icon/donate/request-inactive.svg"></ion-icon>

      <ion-select formControlName="requestTime" (ionChange)="chooseTime($event)"
        placeholder='{{"request-time"|translate}}' okText='{{"ok"|translate}}' cancelText='{{"cancel"|translate}}'
        interface="popover" mode="ios">
        <ion-select-option class="fn-16 qesaa-Janna-Regular" [value]="time.id" *ngFor="let time of requestTimes">
          {{time.title}}
        </ion-select-option>
      </ion-select>
    </ion-item>

    <div class="request-date ion-margin-bottom">
      <p class="ion-no-margin fn-16 qesaa-Janna-Bold">
        {{ "request image"|translate}}
      </p>

      <div class="image-container">
        <div (click)="attachImage()" *ngIf="requestImage==''" class="ion-text-center">
          <ion-icon src="./../../../../assets/icon/camera.svg"></ion-icon>

          <p class="ion-no-margin fn-16 qesaa-Janna-Regular gray-color">
            {{"attach request image"|translate}}
          </p>
        </div>
        <img *ngIf="requestImage!=''" src="./../../../../assets/images/1024-500.png" />
      </div>
    </div>

    <ion-item lines="none" class="ion-margin-bottom">
      <ion-textarea class="ion-padding-horizontal fn-16 qesaa-Janna-Regular" rows="5"
        placeholder="{{'request notices'|translate}}" type="text" formControlName="notices"></ion-textarea>
    </ion-item>

    <ion-button class="form-btn" expand="block" type="submit" color="primary">
      <span class="fn-20 qesaa-Janna-Bold"> {{ "donate"|translate}} </span>
    </ion-button>
  </form>
</ion-content>